{"version":3,"sources":["components/TodoItem/TodoItem.tsx","components/TodoList/TodoList.tsx","components/TodoFilter/TodoFilter.tsx","components/TodoApp/TodoApp.tsx","App.tsx","index.js"],"names":["TodoItem","React","memo","todo","removeTodo","changeStatus","editTitle","useState","clicked","setClicked","title","tempTitle","setTempTitle","changeTodoInput","useRef","useEffect","current","focus","className","classNames","completed","editing","type","defaultChecked","onClick","id","onDoubleClick","ref","value","onChange","event","target","onKeyDown","key","onBlur","TodoList","items","map","TodosFilter","toggleFilter","toggled","setToggled","href","selected","TodoApp","newTodoTitle","setNewTodoTitle","JSON","parse","localStorage","getItem","todos","setTodos","completeNumber","setCompleteNumber","uncompleteNumber","setUncompleteNumber","toggledTodos","setToggledTodos","setItem","stringify","filter","length","onSubmit","preventDefault","Date","placeholder","checked","find","newArr","item","htmlFor","todoId","filteredTodos","newTitle","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3c0e6ce1.chunk.js","sourcesContent":["/* eslint-disable max-len */\nimport React, { useState, useRef, useEffect } from 'react';\nimport classNames from 'classnames';\nimport { Todo } from '../../types';\n\ntype Props = {\n  todo: Todo,\n  removeTodo: (todoId: number) => void,\n  changeStatus: (todoId: number) => void,\n  editTitle: (newTitle: string, todoId: number) => void,\n};\n\nexport const TodoItem: React.FC<Props> = React.memo(({\n  todo,\n  removeTodo,\n  changeStatus,\n  editTitle,\n}) => {\n  const [clicked, setClicked] = useState(false);\n  const [tempTitle, setTempTitle] = useState(todo.title);\n  const changeTodoInput = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    if (changeTodoInput.current !== null) {\n      changeTodoInput.current.focus();\n    }\n  }, [clicked]);\n\n  const handleFocus = () => {\n    if (changeTodoInput.current !== null) {\n      changeTodoInput.current.focus();\n    }\n  };\n\n  return (\n    <li\n      className={classNames({ completed: todo.completed }, { editing: clicked })}\n    >\n      <div className=\"view\">\n        <input\n          type=\"checkbox\"\n          className=\"toggle\"\n          defaultChecked={todo.completed}\n          onClick={() => changeStatus(todo.id)}\n        />\n        <label\n          onDoubleClick={() => {\n            handleFocus();\n            setClicked(true);\n          }}\n        >\n          {todo.title ? todo.title : `${removeTodo(todo.id)}`}\n        </label>\n        <button type=\"button\" className=\"destroy\" onClick={() => removeTodo(todo.id)} />\n      </div>\n      <input\n        type=\"text\"\n        ref={changeTodoInput}\n        className=\"edit\"\n        value={tempTitle}\n        onChange={event => setTempTitle(event.target.value)}\n        onKeyDown={(event) => {\n          if (event.key === 'Enter') {\n            editTitle(tempTitle, todo.id);\n            setClicked(false);\n          }\n\n          if (event.key === 'Escape') {\n            setClicked(false);\n            setTempTitle(todo.title);\n          }\n        }}\n        onBlur={() => setClicked(false)}\n      />\n    </li>\n  );\n});\n","import React from 'react';\nimport { Todo } from '../../types';\nimport { TodoItem } from '../TodoItem/TodoItem';\n\ntype Props = {\n  items: Todo[],\n  removeTodo: (todoId: number) => void,\n  changeStatus: (todoId: number) => void,\n  editTitle: (newTitle: string, todoId: number) => void,\n};\n\nexport const TodoList: React.FC<Props> = React.memo(({\n  items,\n  removeTodo,\n  changeStatus,\n  editTitle,\n}) => {\n  return (\n    <ul className=\"todo-list\">\n      {items.map(todo => (\n        <TodoItem\n          key={todo.id}\n          todo={todo}\n          removeTodo={removeTodo}\n          changeStatus={changeStatus}\n          editTitle={editTitle}\n        />\n      ))}\n    </ul>\n  );\n});\n","import classNames from 'classnames';\nimport React, { useState } from 'react';\n\ntype Props = {\n  toggleFilter: (event: string) => void,\n};\n\nexport const TodosFilter: React.FC<Props> = React.memo(({ toggleFilter }) => {\n  const [toggled, setToggled] = useState('all');\n\n  return (\n    <ul className=\"filters\">\n      <li>\n        <a\n          href=\"#/\"\n          className={classNames({ selected: toggled === 'all' })}\n          onClick={() => {\n            toggleFilter('all');\n            setToggled('all');\n          }}\n        >\n          All\n        </a>\n      </li>\n\n      <li>\n        <a\n          href=\"#/active\"\n          className={classNames({ selected: toggled === 'active' })}\n          onClick={() => {\n            toggleFilter('active');\n            setToggled('active');\n          }}\n        >\n          Active\n        </a>\n      </li>\n\n      <li>\n        <a\n          href=\"#/completed\"\n          className={classNames({ selected: toggled === 'completed' })}\n          onClick={() => {\n            toggleFilter('completed');\n            setToggled('completed');\n          }}\n        >\n          Completed\n        </a>\n      </li>\n    </ul>\n  );\n});\n","/* eslint-disable max-len */\nimport React, { useEffect, useState } from 'react';\nimport { TodoList } from '../TodoList/TodoList';\nimport { TodosFilter } from '../TodoFilter/TodoFilter';\nimport { Todo } from '../../types';\n\nexport const TodoApp: React.FC = React.memo(() => {\n  const [newTodoTitle, setNewTodoTitle] = useState('');\n  const [todos, setTodos] = useState(\n    JSON.parse(localStorage.getItem('items') || '[]'),\n  );\n  const [completeNumber, setCompleteNumber] = useState(0);\n  const [uncompleteNumber, setUncompleteNumber] = useState(0);\n  const [toggledTodos, setToggledTodos] = useState(todos);\n\n  useEffect(() => {\n    localStorage.setItem('items', JSON.stringify(todos));\n\n    setCompleteNumber(todos.filter((todo: Todo) => todo.completed).length);\n    setUncompleteNumber(todos.filter((todo: Todo) => !todo.completed).length);\n\n    setToggledTodos(todos);\n  }, [todos]);\n\n  const addNewTodo = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    const todo = {\n      id: +new Date(),\n      title: newTodoTitle,\n      completed: false,\n    };\n\n    if (newTodoTitle) {\n      setTodos([...todos, todo]);\n      setNewTodoTitle('');\n    }\n  };\n\n  const removeTodo = (todoId: number) => {\n    const filteredTodos = todos.filter((item: { id: number; }) => item.id !== todoId);\n\n    setTodos(filteredTodos);\n  };\n\n  const clearCompleted = (): void => {\n    const filteredTodos = todos.filter((item: { completed: boolean; }) => !item.completed);\n\n    setTodos(filteredTodos);\n  };\n\n  const changeStatus = (todoId: number) => {\n    setTodos(\n      todos.map((item: Todo) => {\n        if (item.id === todoId) {\n          return {\n            ...item,\n            completed: !item.completed,\n          };\n        }\n\n        return item;\n      }),\n    );\n  };\n\n  const changeStatusToAll = () => {\n    if (todos.find((todo: Todo) => todo.completed !== true)) {\n      const newArr = todos.map((todo: Todo) => (\n        {\n          ...todo,\n          completed: true,\n        }\n      ));\n\n      return setTodos(newArr);\n    }\n\n    return setTodos(\n      todos.map((item: Todo) => {\n        return {\n          ...item,\n          completed: !item.completed,\n        };\n      }),\n    );\n  };\n\n  const editTitle = (newTitle: string, todoId: number) => {\n    setTodos(\n      todos.map((item: Todo) => {\n        if (item.id === todoId) {\n          return {\n            ...item,\n            title: newTitle,\n          };\n        }\n\n        return item;\n      }),\n    );\n  };\n\n  const toggleFilter = (filter: string) => {\n    switch (filter) {\n      case 'all':\n        return setToggledTodos(todos);\n      case 'active':\n        return setToggledTodos([...todos].filter(\n          (todo: Todo) => !todo.completed,\n        ));\n      case 'completed':\n        return setToggledTodos([...todos].filter(\n          (todo: Todo) => todo.completed,\n        ));\n      default:\n        return 1;\n    }\n  };\n\n  return (\n    <>\n      <header className=\"header\">\n        <h1>todos</h1>\n\n        <form onSubmit={addNewTodo}>\n          <input\n            type=\"text\"\n            className=\"new-todo\"\n            placeholder=\"What needs to be done?\"\n            value={newTodoTitle}\n            onChange={event => setNewTodoTitle(event.target.value)}\n          />\n        </form>\n      </header>\n\n      <section className=\"main\">\n        <input\n          type=\"checkbox\"\n          checked={completeNumber === todos.length}\n          id=\"toggle-all\"\n          className=\"toggle-all\"\n          onChange={changeStatusToAll}\n        />\n        <label htmlFor=\"toggle-all\">Mark all as complete</label>\n        <TodoList\n          items={toggledTodos}\n          removeTodo={removeTodo}\n          changeStatus={changeStatus}\n          editTitle={editTitle}\n        />\n      </section>\n\n      {todos.length > 0 && (\n        <footer className=\"footer\">\n          <span className=\"todo-count\">\n            {`${uncompleteNumber} ${uncompleteNumber === 1 ? 'item' : 'items'} left`}\n          </span>\n\n          <TodosFilter toggleFilter={toggleFilter} />\n\n          {completeNumber > 0 && (\n            <button type=\"button\" className=\"clear-completed\" onClick={clearCompleted}>\n              Clear completed\n            </button>\n          )}\n        </footer>\n      )}\n    </>\n  );\n});\n","import React from 'react';\nimport { TodoApp } from './components/TodoApp/TodoApp';\n\nconst App: React.FC = () => {\n  return (\n    <section className=\"todoapp\">\n      <TodoApp />\n    </section>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './styles/index.css';\nimport './styles/todo-list.css';\nimport './styles/filters.css';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}