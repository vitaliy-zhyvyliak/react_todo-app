(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){},16:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var n=c(1),l=c.n(n),a=c(9),o=c.n(a),i=(c(14),c(15),c(16),c(3)),r=c(7),s=c(2),u=c(4),j=c.n(u),d=c(0),b=l.a.memo((function(e){var t=e.todo,c=e.removeTodo,l=e.changeStatus,a=e.editTitle,o=Object(n.useState)(!1),i=Object(s.a)(o,2),r=i[0],u=i[1],b=Object(n.useState)(t.title),m=Object(s.a)(b,2),f=m[0],O=m[1],p=Object(n.useRef)(null);Object(n.useEffect)((function(){null!==p.current&&p.current.focus()}),[r]);return Object(d.jsxs)("li",{className:j()({completed:t.completed},{editing:r}),children:[Object(d.jsxs)("div",{className:"view",children:[Object(d.jsx)("input",{type:"checkbox",className:"toggle",defaultChecked:t.completed,onClick:function(){return l(t.id)}}),Object(d.jsx)("label",{onDoubleClick:function(){null!==p.current&&p.current.focus(),u(!0)},children:t.title?t.title:"".concat(c(t.id))}),Object(d.jsx)("button",{type:"button",className:"destroy",onClick:function(){return c(t.id)}})]}),Object(d.jsx)("input",{type:"text",ref:p,className:"edit",value:f,onChange:function(e){return O(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(a(f,t.id),u(!1)),"Escape"===e.key&&(u(!1),O(t.title))},onBlur:function(){return u(!1)}})]})})),m=l.a.memo((function(e){var t=e.items,c=e.removeTodo,n=e.changeStatus,l=e.editTitle;return Object(d.jsx)("ul",{className:"todo-list",children:t.map((function(e){return Object(d.jsx)(b,{todo:e,removeTodo:c,changeStatus:n,editTitle:l},e.id)}))})})),f=l.a.memo((function(e){var t=e.toggleFilter,c=Object(n.useState)("all"),l=Object(s.a)(c,2),a=l[0],o=l[1];return Object(d.jsxs)("ul",{className:"filters",children:[Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"#/",className:j()({selected:"all"===a}),onClick:function(){t("all"),o("all")},children:"All"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"#/active",className:j()({selected:"active"===a}),onClick:function(){t("active"),o("active")},children:"Active"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"#/completed",className:j()({selected:"completed"===a}),onClick:function(){t("completed"),o("completed")},children:"Completed"})})]})})),O=l.a.memo((function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),c=t[0],l=t[1],a=Object(n.useState)(JSON.parse(localStorage.getItem("items")||"[]")),o=Object(s.a)(a,2),u=o[0],j=o[1],b=Object(n.useState)(0),O=Object(s.a)(b,2),p=O[0],h=O[1],x=Object(n.useState)(0),g=Object(s.a)(x,2),v=g[0],N=g[1],S=Object(n.useState)(u),k=Object(s.a)(S,2),C=k[0],y=k[1];Object(n.useEffect)((function(){localStorage.setItem("items",JSON.stringify(u)),h(u.filter((function(e){return e.completed})).length),N(u.filter((function(e){return!e.completed})).length),y(u)}),[u]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("h1",{children:"todos"}),Object(d.jsx)("form",{onSubmit:function(e){e.preventDefault();var t={id:+new Date,title:c,completed:!1};c&&(j([].concat(Object(r.a)(u),[t])),l(""))},children:Object(d.jsx)("input",{type:"text",className:"new-todo",placeholder:"What needs to be done?",value:c,onChange:function(e){return l(e.target.value)}})})]}),Object(d.jsxs)("section",{className:"main",children:[Object(d.jsx)("input",{type:"checkbox",checked:p===u.length,id:"toggle-all",className:"toggle-all",onChange:function(){if(u.find((function(e){return!0!==e.completed}))){var e=u.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{completed:!0})}));return j(e)}return j(u.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{completed:!e.completed})})))}}),Object(d.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"}),Object(d.jsx)(m,{items:C,removeTodo:function(e){var t=u.filter((function(t){return t.id!==e}));j(t)},changeStatus:function(e){j(u.map((function(t){return t.id===e?Object(i.a)(Object(i.a)({},t),{},{completed:!t.completed}):t})))},editTitle:function(e,t){j(u.map((function(c){return c.id===t?Object(i.a)(Object(i.a)({},c),{},{title:e}):c})))}})]}),u.length>0&&Object(d.jsxs)("footer",{className:"footer",children:[Object(d.jsx)("span",{className:"todo-count",children:"".concat(v," ").concat(1===v?"item":"items"," left")}),Object(d.jsx)(f,{toggleFilter:function(e){switch(e){case"all":return y(u);case"active":return y(Object(r.a)(u).filter((function(e){return!e.completed})));case"completed":return y(Object(r.a)(u).filter((function(e){return e.completed})));default:return 1}}}),p>0&&Object(d.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){var e=u.filter((function(e){return!e.completed}));j(e)},children:"Clear completed"})]})]})})),p=function(){return Object(d.jsx)("section",{className:"todoapp",children:Object(d.jsx)(O,{})})};o.a.render(Object(d.jsx)(p,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.3c0e6ce1.chunk.js.map